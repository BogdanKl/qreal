<?xml version="1.0" encoding="utf-8"?>
<metamodel version="1.0.0" xmlns="http://schema.real.com/schema/">
	<include>../../commonMetamodels/kernelMetamodel.xml</include>
	<include>../../commonMetamodels/basicBehaviorsMetamodel.xml</include>
	<include>../../commonMetamodels/basicActionsMetamodel.xml</include>

    <namespace>UML 2.0</namespace>
    <diagram name="ShapeEditor" nodeName="ShapeDiagramNode" displayedName="ShapeEditor">
	<nonGraphicTypes>
		<enum name="styleTypes" displayedName="Style Types">
			<value name="solid" displayedName="Solid"/>
			<value name="dot" displayedName="Dot"/>
			<value name="dash" displayedName="Dash"/>
			<value name="dashdot" displayedName="Dash Dot"/>
			<value name="dashdotdot" displayedName="Dash Dot Dot"/>
			<value name="none" displayedName="None"/>
		</enum>
	</nonGraphicTypes>
        <graphicTypes>
		<node displayedName="Shape Diagram" name="ShapeDiagramNode">
				<graphics>
					<picture sizex="200" sizey="200"> import QtQuick 1.0
Rectangle {
	width: 200
	height: 200
	color: "transparent"
}					
	</picture>
			<labels>
			  <label x="40" y="10" textBinded="name"/>
			</labels>
			<ports>
			  <pointPort x="0" y="100"/>
			  <pointPort x="100" y="0"/>
			  <pointPort x="200" y="100"/>
			  <pointPort x="100" y="200"/>
			</ports>
		  </graphics>
		  <logic>
			<properties>
				<property type="DirectoryPath" name="name of the directory" displayedName="directory to generated code"/>
			</properties>
			<generalizations>
			  <parent parentName="KernelDiagram::Diagram"/>
			</generalizations>
			<container/>  
		</logic>
	</node>	
        <node name="Rectangle" displayedName="Rectangle">
                <graphics>
                    <picture sizex="100" sizey="100">import QtQuick 1.0
Rectangle{
	property string ids: ""
	width: parseInt(models.getProperties(ids, "width"))
	height: parseInt(models.getProperties(ids, "height"))
	color: "transparent"
	Rectangle{
		x: parseInt(models.getProperties(ids, "x"))
		y: parseInt(models.getProperties(ids, "y"))
		width: parent.width
		height: parent.height
		color: models.getProperties(ids, "color")
		border.color: models.getProperties(ids, "border.color")
		border.width: parseInt(models.getProperties(ids, "border.width"))
	}
}
                    </picture>
                    <labels/>
                    <ports/>
                </graphics>                                                                   
		  <logic>
                    <container/>
                    <properties>
                        <property type="int" name="x" displayedName="X">
				<default>0</default>
			</property>
                        <property type="int" name="y" displayedName="Y">
				<default>0</default>
			</property>
                        <property type="int" name="width" displayedName="Width">
				<default>100</default>
			</property>
                        <property type="int" name="height" displayedName="Height">
				<default>100</default>
			</property>
                        <property type="color" name="color" displayedName="Color">
				<default>transparent</default>
			</property>
                        <property type="color" name="border.color" displayedName="border.color">
				<default>black</default>
			</property>
                        <property type="int" name="border.width" displayedName="border.width">
				<default>1</default>
			</property>
                    </properties>
                    <explodesTo/>
                </logic>
            </node>
            <node name="Ellipse" displayedName="Ellipse">
		<graphics>
		   <picture sizex="100" sizey="100">import QtQuick 1.0
import CustomComponents 1.0
Rectangle{
	property string ids: ""
	width: parseInt(models.getProperties(ids, "width"))
	height: parseInt(models.getProperties(ids, "height"))
	color: "transparent"
	Ellipse {
		x: parent.width / 2
		y: parent.height / 2
		color: models.getProperties(ids, "color")
		width: parent.width
		height: parent.height
		border.style: models.getProperties(ids, "border.style")
		border.color: models.getProperties(ids, "border.color")
		border.width: parseInt(models.getProperties(ids, "border.width"))
	}
}
		   </picture>
		   <labels/>
		   <ports/>
		</graphics>
                <logic>
                    <container/>
                    <properties>
                        <property type="int" name="x" displayedName="X">
                            <default>50</default>
                        </property>
                        <property type="int" name="y" displayedName="Y">
                            <default>50</default>
                        </property>
                        <property type="int" name="width" displayedName="Width">
                            <default>100</default>
                        </property>
                        <property type="int" name="height" displayedName="Height">
                            <default>100</default>
                        </property>
                        <property type="color" name="border.color" displayedName="Border.color">
                            <default>black</default>
                        </property>
                        <property type="styleTypes" name="border.style" displayedName="Style">
                            <default>solid</default>
                        </property>
                        <property type="int" name="border.width" displayedName="Border.width">
                            <default>1</default>
                        </property>
                        <property type="color" name="color" displayedName="Color">
                            <default>transparent</default>
                        </property>
                    </properties>
                    <explodesTo/>
                </logic>
            </node>
            <node name="Line" displayedName="Line">
                <graphics>
                    <picture sizex="100" sizey="100">import QtQuick 1.0
import CustomComponents 1.0
Rectangle{
	property string ids: ""
	width: Math.max(parseInt(models.getProperties(ids, "x2")), parseInt(models.getProperties(ids, "x1")))
	height: Math.max(parseInt(models.getProperties(ids, "y2")), parseInt(models.getProperties(ids, "y1")))
	color: "transparent"
	Line {
		x1: parseInt(models.getProperties(ids, "x1"))
		y1: parseInt(models.getProperties(ids, "y1"))
		x2: parseInt(models.getProperties(ids, "x2"))
		y2: parseInt(models.getProperties(ids, "y2"))
		color: models.getProperties(ids, "color")
		style: models.getProperties(ids, "style")
		width: parseInt(models.getProperties(ids, "PenWidth"))
	}
}	
                    </picture>
                    <labels/>
                    <ports/>
                </graphics>
                <logic>
                    <container/>
                    <properties>
                        <property type="int" name="x1" displayedName="X1">
                            <default>0</default>
                        </property>
                        <property type="int" name="y1" displayedName="Y1">
                            <default>0</default>
                        </property>
                        <property type="int" name="x2" displayedName="X2">
                            <default>100</default>
                        </property>
                        <property type="int" name="y2" displayedName="Y2">
                            <default>100</default>
                        </property>
                        <property type="color" name="color" displayedName="Color">
                            <default>black</default>
                        </property>
                        <property type="styleTypes" name="style" displayedName="Style">
				<default>solid</default>
			</property>
                        <property type="int" name="PenWidth" displayedName="PenWidth">
                            <default>1</default>
                        </property>
                    </properties>
                    <explodesTo/>
                </logic>
            </node>
            <node name="Arc">
                <graphics>
                    <picture sizex="100" sizey="100">import QtQuick 1.0
import CustomComponents 1.0
Rectangle{
	property string ids: ""
	width: parseInt(models.getProperties(ids, "x2"))
	height: parseInt(models.getProperties(ids, "y2"))
	color: "transparent"
	Arc {
		x1: parseInt(models.getProperties(ids, "x1"))
		y1: parseInt(models.getProperties(ids, "y1"))
		x2: parent.width
		y2: parent.height
		color: models.getProperties(ids, "color")
		width: parseInt(models.getProperties(ids, "PenWidth"))
		style: models.getProperties(ids, "style")
		startAngle: parseInt(models.getProperties(ids, "startAngle"))
		spanAngle: parseInt(models.getProperties(ids, "spanAngle"))
	}
}
                    </picture>
                    <labels/>
                    <ports/>
                </graphics>
                <logic>
                    <container/>
                    <properties>
                        <property type="int" name="x1" displayedName="X1">
                            <default>0</default>
                        </property>
                        <property type="int" name="y1" displayedName="Y1">
                            <default>0</default>
                        </property>
                        <property type="int" name="x2" displayedName="X2">
                            <default>50</default>
                        </property>
                        <property type="int" name="y2" displayedName="Y2">
                            <default>50</default>
                        </property>
                        <property type="color" name="color" displayedName="Color">
                            <default>black</default>
                        </property>
                        <property type="styleTypes" name="style" displayedName="Style">
				<default>solid</default>
			</property>
                        <property type="int" name="PenWidth" displayedName="Pen Width">
                            <default>1</default>
                        </property>
                        <property type="int " name="startAngle" displayedName="startAngle">
                            <default>0</default>
                        </property>
                        <property type="int" name="spanAngle" displayedName="spanAngle">
                            <default>1440</default>
                        </property>
                    </properties>
                    <explodesTo/>
                </logic>
            </node>
            <node name="Text">
                <graphics>
                    <picture sizex="20" sizey="20">import QtQuick 1.0
Text{
	width: 40
	height: 20
	property string ids: ""
	x: parseInt(models.getProperties(ids, "x"))
	y: parseInt(models.getProperties(ids, "y"))
	text: models.getProperties(ids, "text")
	color: models.getProperties(ids, "color")
	font.family: models.getProperties(ids, "font.family")
	font.pixelSize: parseInt(models.getProperties(ids, "font.pixelSize"))
	font.bold: models.getProperties(ids, "font.bold")
	font.italic: models.getProperties(ids, "font.italic")
	font.underline: models.getProperties(ids, "font.underline")
}
                    </picture>
                    <labels/>
                    <ports/>
                </graphics>
                <logic>
                    <container/>
                    <properties>
                        <property type="int" name="x" displayedName="X">
                            <default>0</default>
                        </property>
                        <property type="int" name="y" displayedName="Y">
                            <default>0</default>
                        </property>
                        <property type="color" name="color" displayedName="Color">
                            <default>black</default>
                        </property>
                        <property type="string" name="text" displayedName="Text">
                            <default>text</default>
                        </property>
                        <property type="string" name="font.family" displayedName="fontFamily"/>
                        <property type="int" name="font.pixelSize" displayedName="fontPixelSize">
                            <default>12</default>
                        </property>
                        <property type="bool" name="font.bold" displayedName="fontBold">
                            <default>false</default>
                        </property>
                        <property type="bool" name="font.italic" displayedName="fontItalic">
                            <default>false</default>
                        </property>
                        <property type="bool" name="font.underline" displayedName="fontUnderline">
                            <default>false</default>
                        </property>
                    </properties>
                    <explodesTo/>
                </logic>
            </node>
            <node name="Image">
		<graphics>
			<picture sizex="100" size="100">import QtQuick 1.0
import CustomComponents 1.0
Rectangle {
	property string ids: ""
	width: parseInt(models.getProperties(ids, "x2"))
	height: parseInt(models.getProperties(ids, "y2"))
	Picture { 
		x1 :  parseInt(models.getProperties(ids, "x1"))
		y1 : parseInt(models.getProperties(ids, "y1"))
		x2 : parent.width
		y2 : parent.height 
		source: models.getProperties(ids, "source") == "" ? "images/pencil1.png" : models.getProperties(ids, "source")
	}		
}
			</picture>
			<labels/>
			<ports/>
		</graphics>
                <logic>
                    <container/>
                    <properties>
                        <property type="int" name="x1" displayedName="X1">
                            <default>0</default>
                        </property>
                        <property type="int" name="y1" displayedName="Y1">
                            <default>0</default>
                        </property>
                        <property type="int" name="x2" displayedName="X2">
                            <default>100</default>
                        </property>
                        <property type="int" name="y2" displayedName="Y2">
                            <default>100</default>
                        </property>
                        <property type="FilePath" name="source" displayedName="Source">
				<default>images/pencil1.png</default>
			</property> 
                    </properties>
                    <explodesTo/>
                </logic>
            </node>
            <node name="Curve">
                <graphics>
                    <picture sizex="100" sizey="100">import QtQuick 1.0
import CustomComponents 1.0
Rectangle{
	property string ids: ""
	width: parseInt(models.getProperties(ids, "endx"))
	height: parseInt(models.getProperties(ids, "endy"))
	color: "transparent"
	Curve {
		sizex: parent.width
		sizey: parent.height
		startx: parseInt(models.getProperties(ids, "startx"))
		starty: parseInt(models.getProperties(ids, "starty"))
		endx: parent.width
		endy: parent.height
		style: models.getProperties(ids, "style")
		x: parseInt(models.getProperties(ids, "x"))
		y: parseInt(models.getProperties(ids, "y"))
		color: models.getProperties(ids, "color")
		fill: models.getProperties(ids, "fill")
	}
}	
                    </picture>
                    <labels/>
                    <ports/>
                </graphics>
                <logic>
                    <container/>
                    <properties>
                        <property type="int" name="startx" displayedName="startx">
                            <default>0</default>
                        </property>
                        <property type="int" name="starty" displayedName="starty">
                            <default>0</default>
                        </property>
                        <property type="int" name="endx" displayedName="endx">
                            <default>100</default>
                        </property>
                        <property type="int" name="endy" displayedName="endy">
                            <default>100</default>
                        </property>
                        <property type="int" name="x" displayedName="x">
                            <default>50</default>
                        </property>
                        <property type="int" name="y" displayedName="y">
                            <default>50</default>
                        </property>
                        <property type="color" name="color" displayedName="Color">
                            <default>black</default>
                        </property>
                        <property type="color" name="fill" displayedName="Fill">
                            <default>transparent</default>
                        </property>
                        <property type="styleTypes" name="style" displayedName="Style">
				<default>solid</default>
			</property>
                    </properties>
                    <explodesTo/>
                </logic>
            </node>
	    <node name="Port" displayedName="Port">
                <graphics>
                    <picture sizex="6" sizey="6">import QtQuick 1.0
import CustomComponents 1.0
Rectangle{
	width: 6
	height: 6
	color: "transparent"
	Ellipse {
		x: 3
		y: 3
		width: 6
		height: 6
		color: "black"
	}
}
                    </picture>
                    <labels/>
                    <ports/>
                </graphics>
                <logic>
                    <container/>
                    <properties>
			<property type="string" name="type" displayedName="Type">
				<default>NonTyped</default>
			</property>
		    </properties>
                    <explodesTo/>
                </logic>
            </node>
            <node name="portLine" displayedName="Port Line">
                <graphics>
                    <picture sizex="100" sizey="100">import QtQuick 1.0
import CustomComponents 1.0
Rectangle{
	color:"transparent"
	width: parseInt(models.getProperties(ids, "endx")) 
	height: parseInt(models.getProperties(ids, "endy"))
	property string ids: ""
	Ellipse{
		x: parseInt(models.getProperties(ids, "startx"))
		y: parseInt(models.getProperties(ids, "starty"))
		color: "black"
		width: 6
		height: 6	
	}
	Ellipse{
		x: parent.width
		y: parent.height
		color: "black"
		width: 6
		height: 6	
	}
	Line {
		x1: parseInt(models.getProperties(ids, "startx"))
		y1: parseInt(models.getProperties(ids, "starty"))
		x2: parent.width
		y2: parent.height
		color: "black"
		style: "solid"
		width: 1
	}
}
	
                    </picture>
                    <labels/>
                    <ports/>
                </graphics>
                <logic>
                    <container/>
                    <properties>
                        <property type="int" name="startx" displayedName="Startx">
                            <default>0</default>
                        </property>
                        <property type="int" name="starty" displayedName="Starty">
                            <default>0</default>
                        </property>
                        <property type="int" name="endx" displayedName="Endx">
                            <default>50</default>
                        </property>
                        <property type="int" name="endy" displayedName="Endy">
                            <default>50</default>
                        </property>
                        <property type="string" name="type" displayedName="Type">
				<default>NonTyped</default>
			</property>
                    </properties>
                    <explodesTo/>
                </logic>
            </node>
            <node name="Button" displayedName="Button">
                <graphics>
                    <picture sizex="100" sizey="20">import QtQuick 1.0
import CustomComponents 1.0
import "qrc:/qmlType/Control/"
Rectangle{
        color:"transparent"
        width: parseInt(models.getProperties(ids, "width"))
        height: parseInt(models.getProperties(ids, "height"))
        property string ids: ""
	Button {
		buttonWidth: parent.width
		buttonHeight: parent.height
		label: models.getProperties(ids, "text")
		textColor: models.getProperties(ids, "textColor")
		borderColor: models.getProperties(ids, "borderColor")
		buttonColor: models.getProperties(ids, "buttonColor")
	}
}

                    </picture>
                    <labels/>
                    <ports/>
                </graphics>
                <logic>
                    <container/>
                    <properties>
                        <property type="int" name="width" displayedName="Width">
                            <default>50</default>
                        </property>
                        <property type="int" name="height" displayedName="Height">
                            <default>20</default>
                        </property>
                        <property type="string" name="text" displayedName="Text">
                            <default>OK</default>
                        </property>
                        <property type="color" name="textColor" displayedName="Text Color">
                            <default>black</default>
                        </property>
                        <property type="color" name="borderColor" displayedName="Border Color">
                            <default>transparent</default>
                        </property>
                        <property type="color" name="buttonColor" displayedName="Button Color">
                            <default>grey</default>
                        </property>
                    </properties>
                    <explodesTo/>
                </logic>
            </node>
	   <node name="TextArea" displayedName="TextArea">
                <graphics>
                    <picture sizex="104" sizey="140">import QtQuick 1.0
import CustomComponents 1.0
Text{
	property string ids: ""
	x: 0
	y: 0
	text: models.getProperties(ids, "text")
	color: models.getProperties(ids, "fontColor")
	font.pixelSize: 14
	font.bold: false
	font.italic: false
	font.underline: false
}
                    </picture>
                    <labels/>
                    <ports/>
                </graphics>
                <logic>
                    <container/>
                    <properties>
                        <property type="int" name="width" displayedName="Width">
                            <default>100</default>
                        </property>
                        <property type="int" name="height" displayedName="Height">
                            <default>20</default>
                        </property>
			<property type="string" name="text" displayedName="Text">
				<default>name</default>
			</property>
			<property type="bool" name="isDynamic" displayedName="Is dynamic">
				<default>true</default>
			</property>
			<property type="string" name="fontColor" displayedName="Font Color">
				<default>white</default>
			</property>
                    </properties>
                    <explodesTo/>
                </logic>
            </node>
	<node name="CheckBox" displayedName="CheckBox">
                <graphics>
                    <picture sizex="104" sizey="140">import QtQuick 1.0
import CustomComponents 1.0
import "qrc:/qmlType/Control/"
Rectangle{
        color:"transparent"
        width: parseInt(models.getProperties(ids, "width"))
        height: parseInt(models.getProperties(ids, "height"))
        property string ids: ""
	CheckBox {
		width: parent.width
		height: parent.height
		text: models.getProperties(ids, "text") 
	}
}

                    </picture>
                    <labels/>
                    <ports/>
                </graphics>
                <logic>
                    <container/>
                    <properties>
                        <property type="int" name="width" displayedName="Width">
                            <default>100</default>
                        </property>
                        <property type="int" name="height" displayedName="Height">
                            <default>20</default>
                        </property>
                        <property type="string" name="text" displayedName="Text">
                            <default>OK</default>
                        </property>
                    </properties>
                    <explodesTo/>
                </logic>
            </node>
        </graphicTypes>
    </diagram>
</metamodel>
